name: Build & deploy spring app

on:
  push:
  branches:
    -main
# ✅ It requires a hyphen (-) because steps are a list (array) in YAML.


  jobs:
    build-deploy:
    name: Build and deploy spring boot for beginners
    runs-on : ubuntu-latest
    steps:
      - name: checkout code
        uses: actions/checkout@v4


      #sicne in this project the programmer used jdk 17 i need to install jave 17 in our runner 

      - name : Setup JDK 17
        uses: actions/setup-java@v4
        with :
          distribution: 'corretto'
          java-version: 17

      - name : Unit Tests
        run:  mvn -B test --file pom.xml
# ✅ mvn → Calls Apache Maven, a popular build automation tool for Java projects.
# ✅ -B → Runs Maven in batch mode (non-interactive) to prevent prompts from interrupting CI/CD.
# ✅ test → Runs unit tests defined in the Maven project.
# ✅ --file pom.xml → Explicitly specifies the pom.xml file (the Maven project configuration file).

      - name : Build the application
        run : | #so that i can run mutliple cmds
          mvn clean
          mvn -B package --file pom.xml



